## 토픽이란?
- DB 테이블이나 파일 시스템의 폴더와 그 개념이 유사하다
- 하나의 토픽은 여러 개의 파티션으로 나뉜다
	- Queue 라고 생각하면 된다
	- 컨슈머는 파티션에 적재된 가장 오래된 데이터(레코드)부터 가져온다
	- 단, 컨슈머가 데이터를 가져가도 레코드는 삭제되지 않는다
		- 특정 설정에 따라 다른 컨슈머가 이 데이터들을 다시 가져올 수 있다
		- 이 점이 카프카를 사용되는데 주요한 요인을 차지한다고 할 수 있다
	- 파티션이 여러 개인 경우 저장할 데이터의 키 값이나 설정에 따라 라운드 로빈 방식으로 할당 되거나 특정 파티션에 적재된다
	- 레코드는 삭제 정책에 따라 삭제 된다
- 파티션은 조심히 늘려야 한다
	- 늘릴 수는 있지만 삭제할 수는 없다


## 브로커, 복제, ISR(In-Sync-Replication)
- 브로커는 카프카가 설치되어 있는 서버 단위를 뜻한다
	- 보통 세개 이상의 브로커를 구축하는 것을 권장한다
- 복제란 파티션의 복제를 뜻한다
	- 파티션 한 개라면 브로커 개수 n 개 만큼의 레플리케이션을 두어 데이터를 동기화 하는 것 같다
	- 레플리케이션은 브로커 개수보다 더 늘어날 수 없다
	- 원본 레코드가 저장된 파티션을 리더, 복제된 파티션들은 팔로워라고 하며 이런 구조를 ISR 이라 한다
- ack 라는 옵션을 통해 각 파티션에 데이터 적재가 완료 되었는지에 대한 응답을 받을 수 있다고

## 파티셔너(Partitioner) 란?
- 파티셔너는 데이터를 어떤 파티션에 넣을지 결정하는 역할을 수행한다
- 파티셔너가 라운드 로빈 방식으로 데이터를 처리할 때에는 여러 개의 데이터를 모아 한 번에 보내게 된다고 한다

## 컨슈머 랙(Consumer Lag)이란?
- 컨슈머가 마지막으로 읽은 레코드의 offset(인덱스라고 생각하자)과 프로듀서가 마지막으로 적재한 레코드의 offset 의 격차를 뜻한다
- 이 랙을 기준으로 데이터 파이프라인의 처리 상태를 분석할 수 있다고...

## 컨슈머 랙 모니터링 애플리케이션, 카프카 버로우(Burrow)
- 컨슈머 랙을 모니터링할 수 있는 도구라고 한다
- 멀티 카프카 클러스터를 지원한다고 한다


